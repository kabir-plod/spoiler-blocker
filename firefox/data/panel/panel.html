<!DOCTYPE HTML>
<html>
<head>
	<link rel="stylesheet" href="bootstrap-paper.css">
	<link rel="stylesheet" href="panel-style.css">
	<script src="../jquery.js"></script>
	<script src="angular.min.js"></script>
	<script src="panel-script.js"></script>
</head>
<body ng-app = "panelApp" ng-controller = "panelController">
	<nav class="navbar navbar-default">
		<div class="container-fluid nav-children">
	    <div class="navbar-header nav-children">
				<span class="glyphicon glyphicon-cog nav-glyphs clickable"></span>
				<span class="glyphicon glyphicon-plus nav-glyphs clickable" ng-click="showNewForm = true"></span>
	      <p class="navbar-brand">Spoiler Blocker</p>
	    </div>
		</div>
	</nav>
	<div class="container" ng-show="showNewForm">
		<form role="form" ng-submit="getInput()">
		  <div class="form-group">
		    <input type="text" class="form-control input-txt" placeholder="List title" ng-model="titleString"></input>
		  </div>
		  <div class="form-group">
		    <input type="text" class="form-control input-txt" placeholder="Enter comma seperated tags" ng-model="tagString"></input>
		  </div>
		  <button type="submit" class="btn btn-primary">Submit</button>
			<span class="btn-spacer"></span>
			<button ng-click="showNewForm = false" type="button" class="btn btn-danger">Cancel</button>
		</form>
	</div>
	<hr ng-show="showNewForm">
	<div class="container">
		<h5>Active lists</h5>
		<ul class="list-group">
			<li class="list-group-item" ng-repeat="(title, list) in active track by $index" ng-if="$index < 2 || seeMoreActive">
				<h6 class="list-title" ng-if="!tagOptions[title].editing">
					{{ title }}
			  	<span class="glyphicon glyphicon-triangle-right list-title-arrow clickable" ng-show="!tagOptions[title].display" ng-click="tagOptions[title].display = true"></span>
					<span class="glyphicon glyphicon-triangle-bottom list-title-arrow clickable" ng-show="tagOptions[title].display" ng-click="tagOptions[title].display = false"></span>
					<span class="glyphicon glyphicon-trash list-title-arrow list-title-other clickable" ng-click="deleteList(title)"></span>
					<span class="glyphicon glyphicon-pencil list-title-arrow list-title-other clickable" ng-click="editList(title)"></span>
					<span class="glyphicon glyphicon-off list-title-arrow list-title-other clickable activated" ng-click="toggleActivate(title)"></span>
				</h6>
				<p class="list-text" ng-if="tagOptions[title].display && !tagOptions[title].editing">
					{{ list.tags.join(', ') }}
				</p>
				<form role="form" ng-if="tagOptions[title].editing" ng-submit="editListSubmit(title)">
				  <div class="form-group">
				    <input type="text" class="form-control editing-title" ng-model="tagOptions[title].newTitle"></input>
						<span class="glyphicon glyphicon-remove editing-glyph clickable" ng-click="editListCancel(title)"></span>
						<span class="glyphicon glyphicon-ok editing-glyph clickable" ng-click="editListSubmit(title)"></span>
				  </div>
				  <div class="form-group">
				    <input type="text" class="form-control editing-txt" ng-model="tagOptions[title].newTags"></input>
				  </div>
					<div class="hidden-submit"><input type="submit" tabindex="-1"/></div>
				</form>
			</li>
		</ul>
		<p ng-show="!seeMoreActive && numActive > 2"><u class="clickable" ng-click="toggleSeeMoreActive()">See More</u></p>
		<p ng-show="seeMoreActive && numActive > 2"><u class="clickable" ng-click="toggleSeeMoreActive()">See Less</u></p>
		<hr>
		<h5>Inactive lists</h5>
		<ul class="list-group">
			<li class="list-group-item" ng-repeat="(title, list) in inactive track by $index" ng-if="$index < 2 || seeMoreInactive">
				<h6 class="list-title" ng-if="!tagOptions[title].editing">
					{{ title }}
			  	<span class="glyphicon glyphicon-triangle-right list-title-arrow clickable" ng-show="!tagOptions[title].display" ng-click="tagOptions[title].display = true"></span>
					<span class="glyphicon glyphicon-triangle-bottom list-title-arrow clickable" ng-show="tagOptions[title].display" ng-click="tagOptions[title].display = false"></span>
					<span class="glyphicon glyphicon-trash list-title-arrow list-title-other clickable" ng-click="deleteList(title)"></span>
					<span class="glyphicon glyphicon-pencil list-title-arrow list-title-other clickable" ng-click="editList(title)"></span>
					<span class="glyphicon glyphicon-off list-title-arrow list-title-other clickable deactivated" ng-click="toggleActivate(title)"></span>
				</h6>
				<p class="list-text" ng-if="tagOptions[title].display && !tagOptions[title].editing">
					{{ list.tags.join(', ') }}
				</p>
				<form role="form" ng-if="tagOptions[title].editing" ng-submit="editListSubmit(title)">
				  <div class="form-group">
				    <input type="text" class="form-control editing-title" ng-model="tagOptions[title].newTitle"></input>
						<span class="glyphicon glyphicon-remove editing-glyph clickable" ng-click="editListCancel(title)"></span>
						<span class="glyphicon glyphicon-ok editing-glyph clickable" ng-click="editListSubmit(title)"></span>
				  </div>
				  <div class="form-group">
				    <input type="text" class="form-control editing-txt" ng-model="tagOptions[title].newTags"></input>
				  </div>
					<div class="hidden-submit"><input type="submit" tabindex="-1"/></div>
				</form>
			</li>
		</ul>
		<p ng-show="!seeMoreInactive && numInactive > 2"><u class="clickable" ng-click="toggleSeeMoreInactive()">See More</u></p>
		<p ng-show="seeMoreInactive && numInactive > 2"><u class="clickable" ng-click="toggleSeeMoreInactive()">See Less</u></p>
		<hr>
		<div class="form-group">
      <div class="radio">
        <label>
          <input type="radio" name="optionsRadios" ng-model="prefs.hide" value="overlay"  ng-change="storeOptions()" checked="checked" >
          Overlay
        </label>
      </div>
      <div class="radio">
        <label>
          <input type="radio" name="optionsRadios" ng-model="prefs.hide" value="remove" ng-change="storeOptions()">
          Remove
        </label>
      </div>
    </div>
		<br>
	</div>
</body>
</html>
